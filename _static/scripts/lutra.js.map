{"version":3,"file":"scripts/lutra.js","mappings":"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","sources":["webpack:///./node_modules/instant.page/instantpage.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./src/lutra/assets/scripts/lutra.js"],"sourcesContent":["/*! instant.page v5.1.0 - (C) 2019-2020 Alexandre Dieulot - https://instant.page/license */\n\nlet mouseoverTimer\nlet lastTouchTimestamp\nconst prefetches = new Set()\nconst prefetchElement = document.createElement('link')\nconst isSupported = prefetchElement.relList && prefetchElement.relList.supports && prefetchElement.relList.supports('prefetch')\n                    && window.IntersectionObserver && 'isIntersecting' in IntersectionObserverEntry.prototype\nconst allowQueryString = 'instantAllowQueryString' in document.body.dataset\nconst allowExternalLinks = 'instantAllowExternalLinks' in document.body.dataset\nconst useWhitelist = 'instantWhitelist' in document.body.dataset\nconst mousedownShortcut = 'instantMousedownShortcut' in document.body.dataset\nconst DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION = 1111\n\nlet delayOnHover = 65\nlet useMousedown = false\nlet useMousedownOnly = false\nlet useViewport = false\n\nif ('instantIntensity' in document.body.dataset) {\n  const intensity = document.body.dataset.instantIntensity\n\n  if (intensity.substr(0, 'mousedown'.length) == 'mousedown') {\n    useMousedown = true\n    if (intensity == 'mousedown-only') {\n      useMousedownOnly = true\n    }\n  }\n  else if (intensity.substr(0, 'viewport'.length) == 'viewport') {\n    if (!(navigator.connection && (navigator.connection.saveData || (navigator.connection.effectiveType && navigator.connection.effectiveType.includes('2g'))))) {\n      if (intensity == \"viewport\") {\n        /* Biggest iPhone resolution (which we want): 414 × 896 = 370944\n         * Small 7\" tablet resolution (which we don’t want): 600 × 1024 = 614400\n         * Note that the viewport (which we check here) is smaller than the resolution due to the UI’s chrome */\n        if (document.documentElement.clientWidth * document.documentElement.clientHeight < 450000) {\n          useViewport = true\n        }\n      }\n      else if (intensity == \"viewport-all\") {\n        useViewport = true\n      }\n    }\n  }\n  else {\n    const milliseconds = parseInt(intensity)\n    if (!isNaN(milliseconds)) {\n      delayOnHover = milliseconds\n    }\n  }\n}\n\nif (isSupported) {\n  const eventListenersOptions = {\n    capture: true,\n    passive: true,\n  }\n\n  if (!useMousedownOnly) {\n    document.addEventListener('touchstart', touchstartListener, eventListenersOptions)\n  }\n\n  if (!useMousedown) {\n    document.addEventListener('mouseover', mouseoverListener, eventListenersOptions)\n  }\n  else if (!mousedownShortcut) {\n      document.addEventListener('mousedown', mousedownListener, eventListenersOptions)\n  }\n\n  if (mousedownShortcut) {\n    document.addEventListener('mousedown', mousedownShortcutListener, eventListenersOptions)\n  }\n\n  if (useViewport) {\n    let triggeringFunction\n    if (window.requestIdleCallback) {\n      triggeringFunction = (callback) => {\n        requestIdleCallback(callback, {\n          timeout: 1500,\n        })\n      }\n    }\n    else {\n      triggeringFunction = (callback) => {\n        callback()\n      }\n    }\n\n    triggeringFunction(() => {\n      const intersectionObserver = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            const linkElement = entry.target\n            intersectionObserver.unobserve(linkElement)\n            preload(linkElement.href)\n          }\n        })\n      })\n\n      document.querySelectorAll('a').forEach((linkElement) => {\n        if (isPreloadable(linkElement)) {\n          intersectionObserver.observe(linkElement)\n        }\n      })\n    })\n  }\n}\n\nfunction touchstartListener(event) {\n  /* Chrome on Android calls mouseover before touchcancel so `lastTouchTimestamp`\n   * must be assigned on touchstart to be measured on mouseover. */\n  lastTouchTimestamp = performance.now()\n\n  const linkElement = event.target.closest('a')\n\n  if (!isPreloadable(linkElement)) {\n    return\n  }\n\n  preload(linkElement.href)\n}\n\nfunction mouseoverListener(event) {\n  if (performance.now() - lastTouchTimestamp < DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION) {\n    return\n  }\n\n  const linkElement = event.target.closest('a')\n\n  if (!isPreloadable(linkElement)) {\n    return\n  }\n\n  linkElement.addEventListener('mouseout', mouseoutListener, {passive: true})\n\n  mouseoverTimer = setTimeout(() => {\n    preload(linkElement.href)\n    mouseoverTimer = undefined\n  }, delayOnHover)\n}\n\nfunction mousedownListener(event) {\n  const linkElement = event.target.closest('a')\n\n  if (!isPreloadable(linkElement)) {\n    return\n  }\n\n  preload(linkElement.href)\n}\n\nfunction mouseoutListener(event) {\n  if (event.relatedTarget && event.target.closest('a') == event.relatedTarget.closest('a')) {\n    return\n  }\n\n  if (mouseoverTimer) {\n    clearTimeout(mouseoverTimer)\n    mouseoverTimer = undefined\n  }\n}\n\nfunction mousedownShortcutListener(event) {\n  if (performance.now() - lastTouchTimestamp < DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION) {\n    return\n  }\n\n  const linkElement = event.target.closest('a')\n\n  if (event.which > 1 || event.metaKey || event.ctrlKey) {\n    return\n  }\n\n  if (!linkElement) {\n    return\n  }\n\n  linkElement.addEventListener('click', function (event) {\n    if (event.detail == 1337) {\n      return\n    }\n\n    event.preventDefault()\n  }, {capture: true, passive: false, once: true})\n\n  const customEvent = new MouseEvent('click', {view: window, bubbles: true, cancelable: false, detail: 1337})\n  linkElement.dispatchEvent(customEvent)\n}\n\nfunction isPreloadable(linkElement) {\n  if (!linkElement || !linkElement.href) {\n    return\n  }\n\n  if (useWhitelist && !('instant' in linkElement.dataset)) {\n    return\n  }\n\n  if (!allowExternalLinks && linkElement.origin != location.origin && !('instant' in linkElement.dataset)) {\n    return\n  }\n\n  if (!['http:', 'https:'].includes(linkElement.protocol)) {\n    return\n  }\n\n  if (linkElement.protocol == 'http:' && location.protocol == 'https:') {\n    return\n  }\n\n  if (!allowQueryString && linkElement.search && !('instant' in linkElement.dataset)) {\n    return\n  }\n\n  if (linkElement.hash && linkElement.pathname + linkElement.search == location.pathname + location.search) {\n    return\n  }\n\n  if ('noInstant' in linkElement.dataset) {\n    return\n  }\n\n  return true\n}\n\nfunction preload(url) {\n  if (prefetches.has(url)) {\n    return\n  }\n\n  const prefetcher = document.createElement('link')\n  prefetcher.rel = 'prefetch'\n  prefetcher.href = url\n  document.head.appendChild(prefetcher)\n\n  prefetches.add(url)\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/*\n * Copyright (c) 2021 Pradyun Gedam\n * Licensed under MIT License\n * SPDX-License-Identifier: MIT\n *\n * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport \"instant.page\";\n// import VanillaScrollspy from \"vanillajs-scrollspy\";\n// import scrollSpy from \"@sidsbrmnn/scrollspy\";\n\n////////////////////////////////////////////////////////////////////////////////\n// Scroll Handling\n////////////////////////////////////////////////////////////////////////////////\nvar lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;\nconst SHOW_PAGE_TITLE_OFFSET = 128;\nconst GO_TO_TOP_OFFSET = 64;\n\nfunction scrollHandler(position) {\n  if (position > SHOW_PAGE_TITLE_OFFSET) {\n    document.documentElement.classList.add(\"show-page-title\");\n    if (position < lastScrollTop) {\n      document.documentElement.classList.add(\"show-back-to-top\");\n    } else if (position > lastScrollTop) {\n      document.documentElement.classList.remove(\"show-back-to-top\");\n    }\n  } else {\n    document.documentElement.classList.remove(\"show-page-title\");\n  }\n  if (position < GO_TO_TOP_OFFSET) {\n    document.documentElement.classList.remove(\"show-back-to-top\");\n  }\n  lastScrollTop = position;\n}\n////////////////////////////////////////////////////////////////////////////////\n// Theme Toggle\n////////////////////////////////////////////////////////////////////////////////\nfunction setTheme(mode, class_to_set) {\n  if (mode !== \"light\" && mode !== \"dark\" && mode !== \"auto\") {\n    console.error(`Got invalid theme mode: ${mode}. Resetting to auto.`);\n    mode = \"auto\";\n  }\n  if (class_to_set !== \"light\" && class_to_set !== \"dark\") {\n    console.error(\n      `Got invalid theme class: ${class_to_set}. Resetting to light.`\n    );\n    class_to_set = \"light\";\n  }\n\n  document.body.dataset.theme = mode;\n  localStorage.setItem(\"theme\", mode);\n  if (class_to_set == \"light\") {\n    document.documentElement.classList.remove(\"dark\");\n  } else {\n    document.documentElement.classList.add(\"dark\");\n  }\n  console.debug(`Changed to ${mode} mode (${class_to_set}).`);\n}\n\nfunction cycleThemeOnce() {\n  const currentTheme = localStorage.getItem(\"theme\") || \"auto\";\n  const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n\n  if (prefersDark) {\n    // Auto (dark) -> Light -> Dark\n    if (currentTheme === \"auto\") {\n      setTheme(\"light\", \"light\");\n    } else if (currentTheme == \"light\") {\n      setTheme(\"dark\", \"dark\");\n    } else {\n      setTheme(\"auto\", \"dark\");\n    }\n  } else {\n    // Auto (light) -> Dark -> Light\n    if (currentTheme === \"auto\") {\n      setTheme(\"dark\", \"dark\");\n    } else if (currentTheme == \"dark\") {\n      setTheme(\"light\", \"light\");\n    } else {\n      setTheme(\"auto\", \"light\");\n    }\n  }\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Setup\n////////////////////////////////////////////////////////////////////////////////\nfunction setupScrollHandler() {\n  // Taken from https://developer.mozilla.org/en-US/docs/Web/API/Document/scroll_event\n  var last_known_scroll_position = 0;\n  var ticking = false;\n\n  window.addEventListener(\"scroll\", function (e) {\n    last_known_scroll_position = window.scrollY;\n\n    if (!ticking) {\n      window.requestAnimationFrame(function () {\n        scrollHandler(last_known_scroll_position);\n        ticking = false;\n      });\n\n      ticking = true;\n    }\n  });\n  window.scroll();\n\n  const list = document.querySelector(\".toc-container > ul > li > ul\");\n  console.log(list);\n\n  // const scrollspy = VanillaScrollspy(list);\n  // scrollspy.init();\n\n  // scrollSpy(list, {\n  //   offset: 100,\n  //   activeClass: \"active\",\n  // });\n}\n\nfunction setupTheme() {\n  // Attach event handlers for toggling themes.\n  const buttons = document.getElementsByClassName(\"theme-toggle\");\n  Array.from(buttons).forEach((btn) => {\n    btn.addEventListener(\"click\", cycleThemeOnce);\n  });\n  // Watch for theme changes and update accordingly.\n  window\n    .matchMedia(\"(prefers-color-scheme: dark)\")\n    .addEventListener(\"change\", (e) => {\n      if ((localStorage.getItem(\"theme\") || \"auto\") === \"auto\") {\n        setTheme(\"auto\", e.matches ? \"dark\" : \"light\");\n      }\n    });\n}\n\nfunction setupSidebarCollapse() {\n  const button = document.getElementById(\"lutra-site-navigation-collapse-icon\");\n  const container = document.getElementById(\"lutra-primary-sidebar-container\");\n\n  if (document.body.classList.contains(\"collapsed-site-navigation\")) {\n    container.setAttribute(\"aria-hidden\", \"true\");\n  }\n\n  button.addEventListener(\"click\", () => {\n    console.debug(\"Clicked collapse.\");\n    if (document.body.classList.contains(\"collapsed-site-navigation\")) {\n      document.body.classList.remove(\"collapsed-site-navigation\");\n      document.body.classList.add(\"expanded-site-navigation\");\n      container.setAttribute(\"aria-hidden\", \"false\");\n      localStorage.setItem(\"collapsed\", \"false\");\n    } else {\n      document.body.classList.remove(\"expanded-site-navigation\");\n      document.body.classList.add(\"collapsed-site-navigation\");\n      container.setAttribute(\"aria-hidden\", \"true\");\n      localStorage.setItem(\"collapsed\", \"true\");\n    }\n    document.body.classList.add(\"animated\");\n  });\n}\n\nfunction setup() {\n  setupSidebarCollapse();\n  setupTheme();\n  setupScrollHandler();\n  // setupScrollSpy();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Main entrypoint\n////////////////////////////////////////////////////////////////////////////////\nfunction main() {\n  document.body.parentNode.classList.remove(\"no-js\");\n\n  setup();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", main);\n"],"names":["mouseoverTimer","lastTouchTimestamp","prefetches","Set","prefetchElement","document","createElement","isSupported","relList","supports","window","IntersectionObserver","IntersectionObserverEntry","prototype","allowQueryString","body","dataset","allowExternalLinks","useWhitelist","mousedownShortcut","delayOnHover","useMousedown","useMousedownOnly","useViewport","intensity","instantIntensity","substr","length","navigator","connection","saveData","effectiveType","includes","documentElement","clientWidth","clientHeight","milliseconds","parseInt","isNaN","eventListenersOptions","capture","passive","addEventListener","event","performance","now","linkElement","target","closest","isPreloadable","preload","href","mouseoutListener","setTimeout","undefined","which","metaKey","ctrlKey","detail","preventDefault","once","customEvent","MouseEvent","view","bubbles","cancelable","dispatchEvent","triggeringFunction","requestIdleCallback","callback","timeout","intersectionObserver","entries","forEach","entry","isIntersecting","unobserve","querySelectorAll","observe","relatedTarget","clearTimeout","origin","location","protocol","search","hash","pathname","url","has","prefetcher","rel","head","appendChild","add","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","hasOwnProperty","call","lastScrollTop","pageYOffset","scrollTop","setTheme","mode","class_to_set","console","error","theme","localStorage","setItem","classList","remove","debug","cycleThemeOnce","currentTheme","getItem","matchMedia","matches","setup","button","getElementById","container","contains","setAttribute","setupSidebarCollapse","buttons","getElementsByClassName","Array","from","btn","e","setupTheme","last_known_scroll_position","ticking","scrollY","requestAnimationFrame","position","scroll","list","querySelector","log","setupScrollHandler","parentNode"],"sourceRoot":""}